(this["webpackJsonpcard-game"]=this["webpackJsonpcard-game"]||[]).push([[0],[,,,,,,,,,,function(e,a,n){e.exports=n(20)},,,,,function(e,a,n){},function(e,a,n){},function(e,a,n){},function(e,a,n){},function(e,a,n){},function(e,a,n){"use strict";n.r(a);var t=n(1),o=n.n(t),i=n(9),r=n.n(i),c=(n(15),n(3)),s=(n(16),n(7)),l=[{name:"Clubs10",position:{x:560,y:760}},{name:"Clubs2",position:{x:280,y:1140}},{name:"Clubs3",position:{x:700,y:190}},{name:"Clubs4",position:{x:700,y:0}},{name:"Clubs5",position:{x:560,y:1710}},{name:"Clubs6",position:{x:560,y:1520}},{name:"Clubs7",position:{x:560,y:1330}},{name:"Clubs8",position:{x:560,y:1140}},{name:"Clubs9",position:{x:560,y:950}},{name:"ClubsAce",position:{x:560,y:570}},{name:"ClubsJack",position:{x:560,y:380}},{name:"ClubsKing",position:{x:560,y:190}},{name:"ClubsQueen",position:{x:560,y:0}},{name:"Diamonds10",position:{x:420,y:190}},{name:"Diamonds2",position:{x:420,y:1710}},{name:"Diamonds3",position:{x:420,y:1520}},{name:"Diamonds4",position:{x:420,y:1330}},{name:"Diamonds5",position:{x:420,y:1140}},{name:"Diamonds6",position:{x:420,y:950}},{name:"Diamonds7",position:{x:420,y:760}},{name:"Diamonds8",position:{x:420,y:570}},{name:"Diamonds9",position:{x:420,y:380}},{name:"DiamondsAce",position:{x:420,y:0}},{name:"DiamondsJack",position:{x:280,y:1710}},{name:"DiamondsKing",position:{x:280,y:1520}},{name:"DiamondsQueen",position:{x:280,y:1330}},{name:"Hearts10",position:{x:140,y:1520}},{name:"Hearts2",position:{x:700,y:380}},{name:"Hearts3",position:{x:280,y:950}},{name:"Hearts4",position:{x:280,y:760}},{name:"Hearts5",position:{x:280,y:570}},{name:"Hearts6",position:{x:280,y:380}},{name:"Hearts7",position:{x:280,y:190}},{name:"Hearts8",position:{x:280,y:0}},{name:"Hearts9",position:{x:140,y:1710}},{name:"HeartsAce",position:{x:140,y:1330}},{name:"HeartsJack",position:{x:140,y:1140}},{name:"HeartsKing",position:{x:140,y:950}},{name:"HeartsQueen",position:{x:140,y:760}},{name:"Joker",position:{x:140,y:570}},{name:"Spades10",position:{x:0,y:760}},{name:"Spades2",position:{x:140,y:380}},{name:"Spades3",position:{x:140,y:190}},{name:"Spades4",position:{x:140,y:0}},{name:"Spades5",position:{x:0,y:1710}},{name:"Spades6",position:{x:0,y:1520}},{name:"Spades7",position:{x:0,y:1330}},{name:"Spades8",position:{x:0,y:1140}},{name:"Spades9",position:{x:0,y:950}},{name:"SpadesAce",position:{x:0,y:570}},{name:"SpadesJack",position:{x:0,y:380}},{name:"SpadesKing",position:{x:0,y:190}},{name:"SpadesQueen",position:{x:0,y:0}}];n(17);var m=function(e){var a=e.value,n=e.suit,t=e.faceDown,i=e.ref,r=l.find((function(e){return e.name==="".concat(n).concat(a)})).position;return o.a.createElement("div",{className:"card-container"},o.a.createElement("div",{className:"card".concat(t?" is-flipped":"")},o.a.createElement("div",{className:"card__face card__face--front",ref:i,style:{backgroundPosition:"-".concat(r.x,"px -").concat(r.y,"px")}},o.a.createElement("div",{className:"visibility-hidden"},"".concat(a," ").concat(n))),o.a.createElement("div",{className:" card__face card__face--back"})))};n(18);var u=Object(t.forwardRef)((function(e){var a=e.player,n=e.isDealersTurn,i="Dealer"===a.name,r=[];return Object(t.useEffect)((function(){s.b.timeline({paused:!0}).to(r,{duration:.3,stagger:.05,y:0,autoAlpha:1}).play()}),[r]),o.a.createElement("div",{className:"Hand"},a.hand.map((function(e,a){return o.a.createElement(m,{faceDown:i&&!n&&a>0,suit:e.suit,ref:function(e){return r[a]=e},value:e.value,key:"".concat(e.suit,"-").concat(e.value)})})))})),p=n(5),d=n(2),y=["Hearts","Diamonds","Spades","Clubs"],f=["Ace","2","3","4","5","6","7","8","9","10","Jack","Queen","King"];function x(){for(var e=[],a=0;a<y.length;a++)for(var n=0;n<f.length;n++){var t={};t.suit=y[a],t.value=f[n],t.numericValue=n+1,"Ace"===t.value&&(t.numericValue=11),"Jack"!==t.value&&"Queen"!==t.value&&"King"!==t.value||(t.numericValue=10),e.push(t)}return e}function v(e){for(var a,n,t=e.length;0!==t;)n=Math.floor(Math.random()*t),a=e[t-=1],e[t]=e[n],e[n]=a;return e}function b(e,a){var n=e.slice(0,a),t=e.slice(a);return[].concat(Object(p.a)(n),[t])}function E(){return{deck:v(x()),gameState:"PREDEAL",dealer:{name:"Dealer",score:0,hand:[]},player:{name:"Sam",score:0,hand:[]}}}function S(e){return e.reduce((function(e,a){return e+a.numericValue}),0)}function g(e,a){switch(a.type){case"initialDeal":var n=b(e.deck,4),t=Object(c.a)(n,5),o=t[0],i=t[1],r=t[2],s=t[3],l=t[4],m=[o,r],u=[i,s];return Object(d.a)({},e,{deck:l,gameState:"INPLAY",dealer:Object(d.a)({},e.dealer,{score:0,hand:m}),player:Object(d.a)({},e.player,{score:S(u),hand:u})});case"checkScore":var y=e.dealer.score,f=e.player.score,x=e.gameState;return(f>21||21===y)&&(x="LOSE"),(y>21||21===f)&&(x="WIN"),21===y&&21===f&&(x="DRAW"),"DEALERS_TURN"===e.gameState&&(f>y&&(x="WIN"),y===f&&(x="DRAW"),y>f&&(x="LOSE"),y>21&&(x="WIN")),Object(d.a)({},e,{gameState:x});case"dealPlayerCard":var v=b(e.deck,1),g=Object(c.a)(v,2),h=g[0],D=g[1],k=[h].concat(Object(p.a)(e.player.hand));return Object(d.a)({},e,{deck:D,player:Object(d.a)({},e.player,{score:S(k),hand:k})});case"startNewGame":return E();case"stand":var O=S(e.dealer.hand),j=e.dealer.hand,N=e.deck;var w=function(){for(;O<17;){var e=b(N,1),a=Object(c.a)(e,2),n=a[0],t=a[1];j=[n].concat(Object(p.a)(j)),N=t,O=S(j)}return[j,N]}(),C=Object(c.a)(w,2),A=C[0],H=C[1];return Object(d.a)({},e,{deck:H,gameState:"DEALERS_TURN",dealer:Object(d.a)({},e.dealer,{score:S(A),hand:A})});default:throw new Error}}var h=n(0);n(19);var D=function(e){var a=e.gameState,n=e.startNewGame,i=Object(t.useRef)(null),r=new h.d({delay:.8});return Object(t.useEffect)((function(){var e=i;s.a.to(i,0,{css:{visibility:"visible"}}),r.from(e,.2,{y:1280,ease:h.b.easeOut},"Start")}),[r]),o.a.createElement("div",{className:"notification",ref:function(e){return i=e}},o.a.createElement("p",null,function(e){return"WIN"===e?"You have won":"LOSE"===e?"You have lost":"DRAW"===e?"It is a draw":null}(a)),o.a.createElement("button",{onClick:function(){return n()}},"Play again"))};var k=function(){var e=Object(t.useReducer)(g,E()),a=Object(c.a)(e,2),n=a[0],i=a[1];Object(t.useEffect)((function(){i({type:"checkScore"})}),[n.player.score,n.dealer.score]);var r="WIN"===n.gameState||"LOSE"===n.gameState||"DRAW"===n.gameState;if(!("PREDEAL"!==n.gameState))return o.a.createElement("div",{className:"App"},o.a.createElement("button",{onClick:function(){return i({type:"initialDeal"})}},"Start game"));var s="DEALERS_TURN"===n.gameState||r;return o.a.createElement("div",{className:"App"},o.a.createElement("p",null,"Dealer's Hand:"),s&&o.a.createElement("p",null,"Dealer score: ",n.dealer.score),o.a.createElement(u,{player:n.dealer,isDealersTurn:s}),o.a.createElement(u,{player:n.player}),o.a.createElement("p",null,"Your score: ",n.player.score),!s&&o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{onClick:function(){return i({type:"dealPlayerCard"})}},"Hit me"),o.a.createElement("button",{onClick:function(){return i({type:"stand"})}},"stand")),r&&o.a.createElement(D,{gameState:n.gameState,startNewGame:function(){return i({type:"startNewGame"})}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.979bf77a.chunk.js.map